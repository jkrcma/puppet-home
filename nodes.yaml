---
::defaults:
  environment: production
  parameters:
    group: null


build:
  classes:
    - role::build
  parameters:
    type: lxd

dns:
  classes:
    - role::dns_server
  parameters:
    type: lxd

docker:
  classes:
    - role::docker_runner
  parameters:
    type: lxd

kodi:
  classes:
    - role::kodi
  parameters:
    type: lxd

mediabox:
  classes:
    - role::media_box
  parameters:
    type: lxd

monitor:
  classes:
    - role::monitor
  parameters:
    type: lxd

nas:
  classes:
    - role::nas
  parameters:
    type: lxd

pihole:
  classes:
    - role::pihole
  parameters:
    type: lxd

/^puppet5?$/:
  classes:
    - role::puppetmaster
  parameters:
    type: lxd

/^rpi-k8s-[0-9]+$/:
  classes:
    - role::k3s_master
  parameters:
    type: hw
    group: rpi-k8s

smtp:
  classes:
    - role::smtp_relay
  parameters:
    type: lxd

torrent:
  classes:
    - role::torrent_box
  parameters:
    type: lxd
